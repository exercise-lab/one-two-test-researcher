digraph {
  rankdir = LR
  fontname = Helvetica
  labelloc = t
  node[label="" style=filled fontname=Helvetica]

  // set order, last to first
  vis_one_test1_t1, dia_one_test1_t1, ind_one_test1_t1

  // individual condition, one test at a time
  subgraph cluster_ind_one_t1 {
    label="P1"
    ind_one_test1_t1, ind_one_r2_t1, ind_one_test2_t1
  }
  subgraph cluster_ind_one_t2 {
    label="P1"
    ind_one_test1_t2, ind_one_r2_t2, ind_one_test2_t2
  }
  ind_one_r2_t1 -> ind_one_r2_t2 -> ind_one_r2end

  // diachronic condition, one test at a time
  subgraph cluster_dia_one_t1 {
    label="P1"
    dia_one_test1_t1, dia_one_r2_t1, dia_one_test2_t1
  }
  subgraph cluster_dia_one_t2 {
    label="P2"
    dia_one_test1_t2, dia_one_r2_t2, dia_one_test2_t2
  }
  dia_one_r2_t1 -> dia_one_r2_t2 -> dia_one_r2end

  // diachronic condition, both tests visible
  subgraph cluster_vis_one_t1 {
    label="P1"
    vis_one_test1_t1, vis_one_r2_t1, vis_one_test2_t1
  }
  subgraph cluster_vis_one_t2 {
    label="P2"
    vis_one_test1_t2, vis_one_r2_t2, vis_one_test2_t2
  }
  vis_one_r2_t1 -> vis_one_r2_t2 -> vis_one_r2end
  vis_one_test2_t1[shape=square color="#bdbdbd" label="T2"]

  // set shape for test 1
  vis_one_test1_t1, vis_one_test1_t2, vis_one_test1_t2, ind_one_test1_t1, ind_one_test1_t2, dia_one_test1_t1, dia_one_test1_t2[shape=circle color="#8da0cb" label="T1"]

  // set shape for test 2
  vis_one_test2_t2, ind_one_test2_t1, ind_one_test2_t1, ind_one_test2_t2, dia_one_test2_t2[shape=square color="#66c2a5" label="T2"]

  // invisible nodes
  vis_one_r2_t1, vis_one_r2_t2, vis_one_r2end, ind_one_v1_r2, ind_one_r2_t1, ind_one_r2_t2, ind_one_r2end, dia_one_r2_t2, dia_one_r2_t1, dia_one_r2end[width=0.2 height=0 style=invis shape=none]
  ind_one_test2_t1, dia_one_test2_t1[style=invis width=0.5]
}
